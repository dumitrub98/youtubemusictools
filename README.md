
# Randomize YouTube Music Playlist

This script allows you to randomize the order of tracks in a YouTube Music playlist by removing all tracks and adding them back in a randomized order. It uses the `ytmusicapi` library to interact with YouTube Music.

---

## Prerequisites

Before you start, make sure you have:
- **Python 3** installed on your system (version 3.7+ recommended).
- `pip` or `pipx` installed for package management.
- Access to **YouTube Music** via a browser (you need your session cookies for authentication).

---

## 1. Installation Steps

### Step 1: Clone the repository
```bash
git clone https://github.com/dumitrub98/youtubeplaylistrandomizer.git
cd randomizer
```

### Step 2: Create a virtual environment (optional but recommended)
```bash
python3 -m venv venv
source venv/bin/activate
```

### Step 3: Install dependencies
Install the `ytmusicapi` library:
```bash
pip install ytmusicapi
```

---

## 2. Authentication Setup

To allow the script to interact with your YouTube Music account, you need to provide your session cookies:

### Step 1: Install the "Get Cookies.txt" extension
Download and install the browser extension to export cookies:
- **Chrome/Edge:** [Get Cookies.txt](https://chrome.google.com/webstore/detail/get-cookiestxt/lejokpkpbgmmfoijfcakcmcdfhpkncjg)
- **Firefox:** [Get Cookies.txt](https://addons.mozilla.org/en-US/firefox/addon/cookies-txt/)

### Step 2: Export cookies
1. Open [https://music.youtube.com](https://music.youtube.com) in your browser.
2. Log in to your YouTube Music account.
3. Click on the extension icon and export the cookies as `cookies.txt`.

### Step 3: Convert cookies to authentication JSON
Run the following command to convert the `cookies.txt` to `browser.json`:
```bash
ytmusicapi browser
```
Paste the contents of the `cookies.txt` into the terminal when prompted, then press `Ctrl+D` to finish.

---

## 3. Running the Script

Once you have the authentication set up, you can run the script:

### Command Syntax:
```bash
python3 randomiser.py <playlist_id> <limit>
```

- `<playlist_id>`: The ID of the YouTube Music playlist (found in the playlist URL).
- `<limit>`: The maximum number of tracks to process (optional, default is `2000`).

### Example:
```bash
python3 randomiser.py "SD110d2d2-djh181d19d81h2d2" 1000
```

---

## 4. Important Notes

- The playlist must be created by **you**; public or autogenerated playlists cannot be modified.
- The authentication `browser.json` file contains session cookiesâ€”keep it secure to avoid unauthorized access.
- If you encounter rate limits from YouTube Music, try reducing the batch size in the script or adding a longer delay.

---

## Troubleshooting

- **"Cannot remove songs, because setVideoId is missing":**
  - Make sure you are using a playlist you created.
  - Ensure the authentication `browser.json` is valid.
  
- **"HTTP 401 Unauthorized":**
  - Your session may have expired. Re-export `cookies.txt` and regenerate `browser.json`.

---

## Contributing

Feel free to submit issues or contribute improvements to this project.


---

## Acknowledgements
Special thanks to the [ytmusicapi](https://github.com/sigma67/ytmusicapi) project for providing an excellent API for interacting with YouTube Music.